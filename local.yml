---
- name: Setup workstation
  hosts: localhost
  become: yes
  pre_tasks:
    - name: Update cache
      package:
        update_cache: true
      tags:
        - zsh
        - nvim

  tasks:

    - name: Install git
      package:
        name: git
        state: present
      tags: 
        - zsh
        - nvim

    # zsh should be installed first so that other packages can add key bindings
    - include_tasks: tasks/zsh.yml
      tags: [zsh]
    
    - name: Install fzf
      package:
        name: fzf
        state: present
      tags: [nvim]

    - include_tasks: tasks/nvim.yml
      tags: [nvim]

    - name: Install go
      package:
        name: go
        state: present

    - name: Install htop
      package:
        name: go
        state: present

    - name: Install xclip
      package:
        name: xclip
        state: present

    - name: Install tldr
      package:
        name: tldr
        state: present

